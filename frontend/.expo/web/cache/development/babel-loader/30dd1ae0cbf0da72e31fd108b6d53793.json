{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Valentin\\\\Desktop\\\\Developper\\\\LGBTapp\\\\Real\\\\frontend\\\\components\\\\main\\\\Setting.js\";\nimport React, { useState, useEffect } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport firebase from 'firebase';\n\nrequire('firebase/firestore');\n\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { fetchUsersData } from \"../../redux/actions/index\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { nameValidator, bioValidator } from \"../components/Validator\";\n\nfunction Setting(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      SetUser = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      image = _useState4[0],\n      setImage = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      nameValue = _useState6[0],\n      setNameValue = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      imageComplet = _useState8[0],\n      setImageComplet = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      bio = _useState10[0],\n      setBio = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      error = _useState12[0],\n      setError = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      imageError = _useState14[0],\n      setImageError = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      nameError = _useState16[0],\n      setNameError = _useState16[1];\n\n  var _useState17 = useState(null),\n      _useState18 = _slicedToArray(_useState17, 2),\n      bioError = _useState18[0],\n      setBioError = _useState18[1];\n\n  useEffect(function () {\n    firebase.firestore().collection(\"users\").doc(firebase.auth().currentUser.uid).get().then(function (snapshot) {\n      if (snapshot.exists) {\n        SetUser(snapshot.data());\n      } else {\n        console.log(\"Setting user does not exist\");\n      }\n    });\n  }, [props]);\n\n  var ChangeProfile = function ChangeProfile() {\n    var result, uri, childPath, response, blob, task, taskProgress, taskCompleted, taskError;\n    return _regeneratorRuntime.async(function ChangeProfile$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.Images,\n              allowsEditing: true,\n              aspect: [1, 1],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n            console.log(result);\n\n            if (result.cancelled) {\n              _context.next = 20;\n              break;\n            }\n\n            setImage(result.uri);\n            uri = image;\n            childPath = \"picture/\" + firebase.auth().currentUser.uid + \"/\" + Math.random().toString(36);\n            console.log(childPath);\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(fetch(uri));\n\n          case 11:\n            response = _context.sent;\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(response.blob());\n\n          case 14:\n            blob = _context.sent;\n            task = firebase.storage().ref().child(childPath).put(blob);\n\n            taskProgress = function taskProgress(snapshot) {\n              console.log(\"transferred: \" + snapshot.bytesTransferred);\n            };\n\n            taskCompleted = function taskCompleted() {\n              task.snapshot.ref.getDownloadURL().then(function (snapshot) {\n                savePostData(snapshot);\n                setImageComplet(snapshot);\n                console.log(snapshot);\n              });\n            };\n\n            taskError = function taskError(snapshot) {\n              console.log(snapshot);\n              setError(snapshot);\n              setImageError(true);\n            };\n\n            task.on(\"state_changed\", taskProgress, taskError, taskCompleted);\n\n          case 20:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var savePostData = function savePostData(downloadURL) {\n    firebase.firestore().collection('users').doc(firebase.auth().currentUser.uid).set({\n      name: user.name,\n      email: user.email,\n      picture: downloadURL,\n      bio: user.bio\n    });\n  };\n\n  var onLogout = function onLogout() {\n    firebase.auth().signOut();\n  };\n\n  var Submit = function Submit() {\n    var ErrorName = nameValidator(nameValue);\n    var ErrorBio = bioValidator(bio);\n\n    if (ErrorBio || ErrorName) {\n      return;\n    }\n\n    if (nameValue.length != 0 || bio.length != 0) {\n      if (nameValue.length < 5 || nameValue.length > 10) {\n        setError(\"Your name is too small or big.\");\n        setNameError(true);\n        iserror = true;\n      }\n\n      if (bio.length > 100) {\n        setError(\"Your biography is too big.\");\n        setBioError(true);\n        iserror = true;\n      }\n\n      console.log(bioError);\n      console.log(nameError);\n      console.log(iserror);\n\n      if (nameValue.length != 0 && bio.length === 0 && !nameError && !bioError) {\n        firebase.firestore().collection(\"users\").doc(firebase.auth().currentUser.uid).set({\n          name: nameValue,\n          email: user.email,\n          picture: user.picture,\n          bio: user.bio\n        }).then(function () {\n          props.navigation.navigate(\"Profile\", {\n            uid: firebase.auth().currentUser.uid\n          });\n        });\n      }\n\n      if (nameValue.length === 0 && bio.length != 0 && !nameError && !bioError) {\n        firebase.firestore().collection(\"users\").doc(firebase.auth().currentUser.uid).set({\n          name: user.name,\n          email: user.email,\n          picture: user.picture,\n          bio: bio\n        }).then(function () {\n          props.navigation.navigate(\"Profile\", {\n            uid: firebase.auth().currentUser.uid\n          });\n        });\n      }\n\n      if (nameValue.length != 0 && bio.length != 0 && !nameError && !bioError) {\n        firebase.firestore().collection(\"users\").doc(firebase.auth().currentUser.uid).set({\n          name: nameValue,\n          email: user.email,\n          picture: user.picture,\n          bio: bio\n        }).then(function () {\n          props.navigation.navigate(\"Profile\", {\n            uid: firebase.auth().currentUser.uid\n          });\n        });\n      }\n    }\n  };\n\n  if (user === null) {\n    return React.createElement(View, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 16\n      }\n    });\n  }\n\n  return React.createElement(View, {\n    style: styles.header,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return props.navigation.navigate(\"Profile\", {\n        uid: firebase.auth().currentUser.uid\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    source: require(\"../../assets/fleche.jpg\"),\n    style: {\n      width: 48,\n      height: 48,\n      marginTop: 25\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: styles.headerText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }, \"Profile \", user.name), React.createElement(TouchableOpacity, {\n    style: styles.logoutButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"Logout\",\n    onPress: function onPress() {\n      return onLogout();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }\n  }, user.picture ? React.createElement(Image, {\n    source: {\n      uri: user.picture\n    },\n    style: {\n      width: 64,\n      height: 64,\n      borderRadius: 10,\n      position: 'absolute',\n      margin: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }) : React.createElement(Image, {\n    source: require(\"../../assets/friend.png\"),\n    style: {\n      width: 64,\n      height: 64,\n      borderRadius: 10,\n      position: 'absolute',\n      margin: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, imageComplet), React.createElement(TouchableOpacity, {\n    style: styles.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"Change profile picture\",\n    onPress: function onPress() {\n      return ChangeProfile();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  })), React.createElement(Text, {\n    style: {\n      fontSize: 16\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, \"Name: \"), React.createElement(TextInput, {\n    placeholder: user.name,\n    style: styles.textInput,\n    maxLength: 15,\n    onChangeText: function onChangeText(nametext) {\n      return setNameValue(nametext);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, \"Your Email : \"), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, user.email), React.createElement(Text, {\n    style: styles.text,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, \"Bio : \"), React.createElement(TextInput, {\n    style: styles.textInputBio,\n    textAlignVertical: \"top\",\n    placeholder: \"Place a bio\",\n    onChangeText: function onChangeText(biotext) {\n      return setBio(biotext);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 13\n    }\n  }), nameError || bioError || imageError ? React.createElement(Text, {\n    style: styles.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 55\n    }\n  }, error) : null, React.createElement(TouchableOpacity, {\n    style: {\n      marginTop: 50\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, React.createElement(Button, {\n    title: \"Submit\",\n    onPress: function onPress() {\n      return Submit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 17\n    }\n  }))));\n}\n\nvar styles = StyleSheet.create({\n  header: {\n    flex: 1,\n    margin: 5\n  },\n  container: {\n    flex: 1,\n    padding: 25,\n    marginTop: 25\n  },\n  textInput: {\n    fontSize: 16,\n    borderColor: 'black',\n    borderWidth: 1,\n    borderRadius: 10,\n    width: 150,\n    marginTop: 10\n  },\n  textInputBio: {\n    fontSize: 16,\n    borderColor: 'black',\n    borderWidth: 1,\n    borderRadius: 10,\n    height: 150,\n    marginTop: 10\n  },\n  textInputEmail: {\n    fontSize: 16,\n    borderColor: 'black',\n    borderWidth: 1,\n    borderRadius: 10,\n    width: 250,\n    height: 50,\n    marginTop: 10\n  },\n  button: {\n    height: 60,\n    alignItems: 'flex-end'\n  },\n  headerText: {\n    fontSize: 20,\n    position: 'absolute',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 35,\n    right: '40%'\n  },\n  text: {\n    marginTop: 25,\n    fontSize: 16\n  },\n  error: {\n    fontSize: 20,\n    color: 'red',\n    justifyContent: 'center',\n    alignItems: 'center',\n    paddingTop: 20\n  },\n  logoutButton: {\n    width: 120,\n    fontSize: 20,\n    position: 'absolute',\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: 35,\n    right: 0\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    users: store.usersState.users\n  };\n};\n\nvar mapDispatchProps = function mapDispatchProps(dispatch) {\n  return bindActionCreators({\n    fetchUsersData: fetchUsersData\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchProps)(Setting);","map":{"version":3,"sources":["C:/Users/Valentin/Desktop/Developper/LGBTapp/Real/frontend/components/main/Setting.js"],"names":["React","useState","useEffect","firebase","require","connect","bindActionCreators","fetchUsersData","ImagePicker","nameValidator","bioValidator","Setting","props","user","SetUser","image","setImage","nameValue","setNameValue","imageComplet","setImageComplet","bio","setBio","error","setError","imageError","setImageError","nameError","setNameError","bioError","setBioError","firestore","collection","doc","auth","currentUser","uid","get","then","snapshot","exists","data","console","log","ChangeProfile","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","result","cancelled","uri","childPath","Math","random","toString","fetch","response","blob","task","storage","ref","child","put","taskProgress","bytesTransferred","taskCompleted","getDownloadURL","savePostData","taskError","on","downloadURL","set","name","email","picture","onLogout","signOut","Submit","ErrorName","ErrorBio","length","iserror","navigation","navigate","styles","header","width","height","marginTop","headerText","logoutButton","container","borderRadius","position","margin","button","fontSize","textInput","nametext","text","textInputBio","biotext","StyleSheet","create","flex","padding","borderColor","borderWidth","textInputEmail","alignItems","justifyContent","right","color","paddingTop","mapStateToProps","store","users","usersState","mapDispatchProps","dispatch"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;;;;;AAGA,OAAOC,QAAP,MAAqB,UAArB;;AACAC,OAAO,CAAC,oBAAD,CAAP;;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,cAAT;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,SAASC,aAAT,EAAwBC,YAAxB;;AAEA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA,kBAEIX,QAAQ,CAAC,IAAD,CAFZ;AAAA;AAAA,MAEbY,IAFa;AAAA,MAEPC,OAFO;;AAAA,mBAGMb,QAAQ,CAAC,IAAD,CAHd;AAAA;AAAA,MAGbc,KAHa;AAAA,MAGNC,QAHM;;AAAA,mBAIcf,QAAQ,CAAC,EAAD,CAJtB;AAAA;AAAA,MAIbgB,SAJa;AAAA,MAIFC,YAJE;;AAAA,mBAKoBjB,QAAQ,CAAC,IAAD,CAL5B;AAAA;AAAA,MAKbkB,YALa;AAAA,MAKCC,eALD;;AAAA,mBAMEnB,QAAQ,CAAC,EAAD,CANV;AAAA;AAAA,MAMboB,GANa;AAAA,MAMRC,MANQ;;AAAA,oBAOMrB,QAAQ,CAAC,EAAD,CAPd;AAAA;AAAA,MAObsB,KAPa;AAAA,MAONC,QAPM;;AAAA,oBAQgBvB,QAAQ,CAAC,IAAD,CARxB;AAAA;AAAA,MAQbwB,UARa;AAAA,MAQDC,aARC;;AAAA,oBASczB,QAAQ,CAAC,IAAD,CATtB;AAAA;AAAA,MASb0B,SATa;AAAA,MASFC,YATE;;AAAA,oBAUY3B,QAAQ,CAAC,IAAD,CAVpB;AAAA;AAAA,MAUb4B,QAVa;AAAA,MAUHC,WAVG;;AAYpB5B,EAAAA,SAAS,CAAC,YAAM;AACZC,IAAAA,QAAQ,CAAC4B,SAAT,GACCC,UADD,CACY,OADZ,EAECC,GAFD,CAEK9B,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC,GAFjC,EAGCC,GAHD,GAICC,IAJD,CAIM,UAACC,QAAD,EAAc;AAChB,UAAIA,QAAQ,CAACC,MAAb,EAAqB;AACjB1B,QAAAA,OAAO,CAACyB,QAAQ,CAACE,IAAT,EAAD,CAAP;AACH,OAFD,MAEO;AACHC,QAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACH;AACJ,KAVD;AAWH,GAZQ,EAYN,CAAC/B,KAAD,CAZM,CAAT;;AAcA,MAAMgC,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACCpC,WAAW,CAACqC,uBAAZ,CAAoC;AACnDC,cAAAA,UAAU,EAAEtC,WAAW,CAACuC,gBAAZ,CAA6BC,MADU;AAEnDC,cAAAA,aAAa,EAAE,IAFoC;AAGnDC,cAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAH2C;AAInDC,cAAAA,OAAO,EAAE;AAJ0C,aAApC,CADD;;AAAA;AACdC,YAAAA,MADc;AAOlBV,YAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ;;AAPkB,gBASbA,MAAM,CAACC,SATM;AAAA;AAAA;AAAA;;AAUdrC,YAAAA,QAAQ,CAACoC,MAAM,CAACE,GAAR,CAAR;AACMA,YAAAA,GAXQ,GAWFvC,KAXE;AAYRwC,YAAAA,SAZQ,gBAYepD,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC,GAZ3C,SAYkDoB,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,CAZlD;AAadhB,YAAAA,OAAO,CAACC,GAAR,CAAYY,SAAZ;AAbc;AAAA,6CAeSI,KAAK,CAACL,GAAD,CAfd;;AAAA;AAeRM,YAAAA,QAfQ;AAAA;AAAA,6CAgBKA,QAAQ,CAACC,IAAT,EAhBL;;AAAA;AAgBRA,YAAAA,IAhBQ;AAkBRC,YAAAA,IAlBQ,GAkBD3D,QAAQ,CAChB4D,OADQ,GAERC,GAFQ,GAGRC,KAHQ,CAGFV,SAHE,EAIRW,GAJQ,CAIJL,IAJI,CAlBC;;AAwBRM,YAAAA,YAxBQ,GAwBO,SAAfA,YAAe,CAAA5B,QAAQ,EAAI;AAC7BG,cAAAA,OAAO,CAACC,GAAR,mBAA4BJ,QAAQ,CAAC6B,gBAArC;AACH,aA1Ba;;AA4BRC,YAAAA,aA5BQ,GA4BQ,SAAhBA,aAAgB,GAAM;AACxBP,cAAAA,IAAI,CAACvB,QAAL,CAAcyB,GAAd,CAAkBM,cAAlB,GAAmChC,IAAnC,CAAwC,UAACC,QAAD,EAAc;AAClDgC,gBAAAA,YAAY,CAAChC,QAAD,CAAZ;AACAnB,gBAAAA,eAAe,CAACmB,QAAD,CAAf;AACAG,gBAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACH,eAJD;AAKH,aAlCa;;AAoCRiC,YAAAA,SApCQ,GAoCI,SAAZA,SAAY,CAAAjC,QAAQ,EAAI;AAC1BG,cAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAf,cAAAA,QAAQ,CAACe,QAAD,CAAR;AACAb,cAAAA,aAAa,CAAC,IAAD,CAAb;AACH,aAxCa;;AA0CdoC,YAAAA,IAAI,CAACW,EAAL,CAAQ,eAAR,EAAyBN,YAAzB,EAAuCK,SAAvC,EAAkDH,aAAlD;;AA1Cc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AA8CA,MAAME,YAAY,GAAG,SAAfA,YAAe,CAACG,WAAD,EAAiB;AAElCvE,IAAAA,QAAQ,CAAC4B,SAAT,GACKC,UADL,CACgB,OADhB,EAEKC,GAFL,CAES9B,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC,GAFrC,EAGKuC,GAHL,CAGS;AACDC,MAAAA,IAAI,EAAE/D,IAAI,CAAC+D,IADV;AAEDC,MAAAA,KAAK,EAAEhE,IAAI,CAACgE,KAFX;AAGDC,MAAAA,OAAO,EAAEJ,WAHR;AAIDrD,MAAAA,GAAG,EAAER,IAAI,CAACQ;AAJT,KAHT;AASH,GAXD;;AAaA,MAAM0D,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACnB5E,IAAAA,QAAQ,CAAC+B,IAAT,GAAgB8C,OAAhB;AACH,GAFD;;AAIA,MAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AAEjB,QAAMC,SAAS,GAAGzE,aAAa,CAACQ,SAAD,CAA/B;AACA,QAAMkE,QAAQ,GAAGzE,YAAY,CAACW,GAAD,CAA7B;;AAEA,QAAG8D,QAAQ,IAAID,SAAf,EAA0B;AACtB;AACH;;AAGD,QAAGjE,SAAS,CAACmE,MAAV,IAAoB,CAApB,IAAyB/D,GAAG,CAAC+D,MAAJ,IAAc,CAA1C,EAA6C;AACzC,UAAGnE,SAAS,CAACmE,MAAV,GAAmB,CAAnB,IAAwBnE,SAAS,CAACmE,MAAV,GAAmB,EAA9C,EAAkD;AAC9C5D,QAAAA,QAAQ,CAAC,gCAAD,CAAR;AACAI,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACAyD,QAAAA,OAAO,GAAG,IAAV;AACH;;AAED,UAAGhE,GAAG,CAAC+D,MAAJ,GAAa,GAAhB,EAAqB;AACjB5D,QAAAA,QAAQ,CAAC,4BAAD,CAAR;AACAM,QAAAA,WAAW,CAAC,IAAD,CAAX;AACAuD,QAAAA,OAAO,GAAG,IAAV;AACH;;AAED3C,MAAAA,OAAO,CAACC,GAAR,CAAYd,QAAZ;AACAa,MAAAA,OAAO,CAACC,GAAR,CAAYhB,SAAZ;AACAe,MAAAA,OAAO,CAACC,GAAR,CAAY0C,OAAZ;;AAEA,UAAIpE,SAAS,CAACmE,MAAV,IAAoB,CAApB,IAAyB/D,GAAG,CAAC+D,MAAJ,KAAe,CAAzC,IAA+C,CAACzD,SAAhD,IAA6D,CAACE,QAAjE,EAA2E;AACvE1B,QAAAA,QAAQ,CAAC4B,SAAT,GACCC,UADD,CACY,OADZ,EAECC,GAFD,CAEK9B,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC,GAFjC,EAGCuC,GAHD,CAGK;AACDC,UAAAA,IAAI,EAAE3D,SADL;AAED4D,UAAAA,KAAK,EAAEhE,IAAI,CAACgE,KAFX;AAGDC,UAAAA,OAAO,EAAEjE,IAAI,CAACiE,OAHb;AAIDzD,UAAAA,GAAG,EAAER,IAAI,CAACQ;AAJT,SAHL,EAQGiB,IARH,CAQQ,YAAM;AACV1B,UAAAA,KAAK,CAAC0E,UAAN,CAAiBC,QAAjB,CAA0B,SAA1B,EAAqC;AAACnD,YAAAA,GAAG,EAAEjC,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC;AAAlC,WAArC;AACH,SAVD;AAWH;;AAED,UAAInB,SAAS,CAACmE,MAAV,KAAqB,CAArB,IAA0B/D,GAAG,CAAC+D,MAAJ,IAAc,CAAzC,IAA+C,CAACzD,SAAhD,IAA6D,CAACE,QAAjE,EAA2E;AACvE1B,QAAAA,QAAQ,CAAC4B,SAAT,GACCC,UADD,CACY,OADZ,EAECC,GAFD,CAEK9B,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC,GAFjC,EAGCuC,GAHD,CAGK;AACDC,UAAAA,IAAI,EAAE/D,IAAI,CAAC+D,IADV;AAEDC,UAAAA,KAAK,EAAEhE,IAAI,CAACgE,KAFX;AAGDC,UAAAA,OAAO,EAAEjE,IAAI,CAACiE,OAHb;AAIDzD,UAAAA,GAAG,EAAEA;AAJJ,SAHL,EAQGiB,IARH,CAQQ,YAAM;AACV1B,UAAAA,KAAK,CAAC0E,UAAN,CAAiBC,QAAjB,CAA0B,SAA1B,EAAqC;AAACnD,YAAAA,GAAG,EAAEjC,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC;AAAlC,WAArC;AACH,SAVD;AAWH;;AAED,UAAInB,SAAS,CAACmE,MAAV,IAAoB,CAApB,IAAyB/D,GAAG,CAAC+D,MAAJ,IAAc,CAAxC,IAA8C,CAACzD,SAA/C,IAA4D,CAACE,QAAhE,EAA0E;AACtE1B,QAAAA,QAAQ,CAAC4B,SAAT,GACCC,UADD,CACY,OADZ,EAECC,GAFD,CAEK9B,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC,GAFjC,EAGCuC,GAHD,CAGK;AACDC,UAAAA,IAAI,EAAE3D,SADL;AAED4D,UAAAA,KAAK,EAAEhE,IAAI,CAACgE,KAFX;AAGDC,UAAAA,OAAO,EAAEjE,IAAI,CAACiE,OAHb;AAIDzD,UAAAA,GAAG,EAAEA;AAJJ,SAHL,EAQGiB,IARH,CAQQ,YAAM;AACV1B,UAAAA,KAAK,CAAC0E,UAAN,CAAiBC,QAAjB,CAA0B,SAA1B,EAAqC;AAACnD,YAAAA,GAAG,EAAEjC,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC;AAAlC,WAArC;AACH,SAVD;AAWH;AACJ;AAEJ,GAtED;;AAwEA,MAAIvB,IAAI,KAAK,IAAb,EAAmB;AACf,WAAO,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAED,SACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE2E,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,gBAAD;AACI,IAAA,OAAO,EAAE;AAAA,aAAM7E,KAAK,CAAC0E,UAAN,CAAiBC,QAAjB,CAA0B,SAA1B,EAAqC;AAACnD,QAAAA,GAAG,EAAEjC,QAAQ,CAAC+B,IAAT,GAAgBC,WAAhB,CAA4BC;AAAlC,OAArC,CAAN;AAAA,KADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI,oBAAC,KAAD;AACI,IAAA,MAAM,EAAEhC,OAAO,2BADnB;AAEI,IAAA,KAAK,EAAE;AAACsF,MAAAA,KAAK,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE,EAApB;AAAwBC,MAAAA,SAAS,EAAE;AAAnC,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ,EASI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEJ,MAAM,CAACK,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAyChF,IAAI,CAAC+D,IAA9C,CATJ,EAUI,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEY,MAAM,CAACM,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,OAAO,EAAE;AAAA,aAAMf,QAAQ,EAAd;AAAA,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAVJ,EAgBI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAES,MAAM,CAACO,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACElF,IAAI,CAACiE,OAAL,GACM,oBAAC,KAAD;AACI,IAAA,MAAM,EAAE;AAACxB,MAAAA,GAAG,EAAEzC,IAAI,CAACiE;AAAX,KADZ;AAEI,IAAA,KAAK,EAAE;AAACY,MAAAA,KAAK,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE,EAApB;AAAwBK,MAAAA,YAAY,EAAE,EAAtC;AAA0CC,MAAAA,QAAQ,EAAE,UAApD;AAAgEC,MAAAA,MAAM,EAAE;AAAxE,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN,GAKM,oBAAC,KAAD;AACI,IAAA,MAAM,EAAE9F,OAAO,2BADnB;AAEI,IAAA,KAAK,EAAE;AAACsF,MAAAA,KAAK,EAAE,EAAR;AAAYC,MAAAA,MAAM,EAAE,EAApB;AAAwBK,MAAAA,YAAY,EAAE,EAAtC;AAA0CC,MAAAA,QAAQ,EAAE,UAApD;AAAgEC,MAAAA,MAAM,EAAE;AAAxE,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANR,EAWA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO/E,YAAP,CAXA,EAYA,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAEqE,MAAM,CAACW,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,wBADV;AAEI,IAAA,OAAO,EAAE;AAAA,aAAMvD,aAAa,EAAnB;AAAA,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAZA,EAkBA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACwD,MAAAA,QAAQ,EAAE;AAAX,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBA,EAmBA,oBAAC,SAAD;AACI,IAAA,WAAW,EAAEvF,IAAI,CAAC+D,IADtB;AAEI,IAAA,KAAK,EAAEY,MAAM,CAACa,SAFlB;AAGI,IAAA,SAAS,EAAE,EAHf;AAII,IAAA,YAAY,EAAE,sBAACC,QAAD;AAAA,aAAcpF,YAAY,CAACoF,QAAD,CAA1B;AAAA,KAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnBA,EA0BA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEd,MAAM,CAACe,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA1BA,EA2BA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO1F,IAAI,CAACgE,KAAZ,CA3BA,EA4BA,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEW,MAAM,CAACe,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5BA,EA6BA,oBAAC,SAAD;AACI,IAAA,KAAK,EAAEf,MAAM,CAACgB,YADlB;AAEI,IAAA,iBAAiB,EAAC,KAFtB;AAGI,IAAA,WAAW,EAAC,aAHhB;AAII,IAAA,YAAY,EAAE,sBAACC,OAAD;AAAA,aAAanF,MAAM,CAACmF,OAAD,CAAnB;AAAA,KAJlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7BA,EAoCE9E,SAAS,IAAIE,QAAb,IAAyBJ,UAA1B,GAAyC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE+D,MAAM,CAACjE,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA4BA,KAA5B,CAAzC,GAAsF,IApCvF,EAuCA,oBAAC,gBAAD;AAAkB,IAAA,KAAK,EAAE;AAAEqE,MAAAA,SAAS,EAAE;AAAb,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,QADV;AAEI,IAAA,OAAO,EAAE;AAAA,aAAMX,MAAM,EAAZ;AAAA,KAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAvCA,CAhBJ,CADJ;AAkEH;;AAED,IAAMO,MAAM,GAAGkB,UAAU,CAACC,MAAX,CAAkB;AAC7BlB,EAAAA,MAAM,EAAE;AACJmB,IAAAA,IAAI,EAAE,CADF;AAEJV,IAAAA,MAAM,EAAE;AAFJ,GADqB;AAK7BH,EAAAA,SAAS,EAAE;AACPa,IAAAA,IAAI,EAAE,CADC;AAEPC,IAAAA,OAAO,EAAE,EAFF;AAGPjB,IAAAA,SAAS,EAAE;AAHJ,GALkB;AAU7BS,EAAAA,SAAS,EAAE;AACPD,IAAAA,QAAQ,EAAE,EADH;AAEPU,IAAAA,WAAW,EAAE,OAFN;AAGPC,IAAAA,WAAW,EAAE,CAHN;AAIPf,IAAAA,YAAY,EAAE,EAJP;AAKPN,IAAAA,KAAK,EAAE,GALA;AAMPE,IAAAA,SAAS,EAAE;AANJ,GAVkB;AAkB7BY,EAAAA,YAAY,EAAE;AACVJ,IAAAA,QAAQ,EAAE,EADA;AAEVU,IAAAA,WAAW,EAAE,OAFH;AAGVC,IAAAA,WAAW,EAAE,CAHH;AAIVf,IAAAA,YAAY,EAAE,EAJJ;AAKVL,IAAAA,MAAM,EAAE,GALE;AAMVC,IAAAA,SAAS,EAAE;AAND,GAlBe;AA2B7BoB,EAAAA,cAAc,EAAE;AACZZ,IAAAA,QAAQ,EAAE,EADE;AAEZU,IAAAA,WAAW,EAAE,OAFD;AAGZC,IAAAA,WAAW,EAAE,CAHD;AAIZf,IAAAA,YAAY,EAAE,EAJF;AAKZN,IAAAA,KAAK,EAAE,GALK;AAMZC,IAAAA,MAAM,EAAE,EANI;AAOZC,IAAAA,SAAS,EAAE;AAPC,GA3Ba;AAoC7BO,EAAAA,MAAM,EAAE;AACJR,IAAAA,MAAM,EAAE,EADJ;AAEJsB,IAAAA,UAAU,EAAE;AAFR,GApCqB;AAwC7BpB,EAAAA,UAAU,EAAE;AACRO,IAAAA,QAAQ,EAAE,EADF;AAERH,IAAAA,QAAQ,EAAE,UAFF;AAGRiB,IAAAA,cAAc,EAAE,QAHR;AAIRD,IAAAA,UAAU,EAAE,QAJJ;AAKRrB,IAAAA,SAAS,EAAE,EALH;AAMRuB,IAAAA,KAAK,EAAE;AANC,GAxCiB;AAgD7BZ,EAAAA,IAAI,EAAE;AACFX,IAAAA,SAAS,EAAE,EADT;AAEFQ,IAAAA,QAAQ,EAAE;AAFR,GAhDuB;AAoD7B7E,EAAAA,KAAK,EAAE;AACH6E,IAAAA,QAAQ,EAAE,EADP;AAEHgB,IAAAA,KAAK,EAAE,KAFJ;AAGHF,IAAAA,cAAc,EAAE,QAHb;AAIHD,IAAAA,UAAU,EAAE,QAJT;AAKHI,IAAAA,UAAU,EAAE;AALT,GApDsB;AA2D7BvB,EAAAA,YAAY,EAAE;AACVJ,IAAAA,KAAK,EAAE,GADG;AAEVU,IAAAA,QAAQ,EAAE,EAFA;AAGVH,IAAAA,QAAQ,EAAE,UAHA;AAIViB,IAAAA,cAAc,EAAE,QAJN;AAKVD,IAAAA,UAAU,EAAE,QALF;AAMVrB,IAAAA,SAAS,EAAE,EAND;AAOVuB,IAAAA,KAAK,EAAE;AAPG;AA3De,CAAlB,CAAf;;AAsEA,IAAMG,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,SAAY;AAChCC,IAAAA,KAAK,EAAED,KAAK,CAACE,UAAN,CAAiBD;AADQ,GAAZ;AAAA,CAAxB;;AAGA,IAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,QAAD;AAAA,SAAcrH,kBAAkB,CAAC;AAAEC,IAAAA,cAAc,EAAdA;AAAF,GAAD,EAAqBoH,QAArB,CAAhC;AAAA,CAAzB;;AAEA,eAAetH,OAAO,CAACiH,eAAD,EAAkBI,gBAAlB,CAAP,CAA2C/G,OAA3C,CAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Button, View, Text, TextInput, Image, TouchableOpacity, FlatList, StyleSheet } from 'react-native';\r\n\r\nimport firebase from 'firebase';\r\nrequire('firebase/firestore')\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux'\r\nimport { fetchUsersData } from '../../redux/actions/index'\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { nameValidator, bioValidator } from '../components/Validator'\r\n\r\nfunction Setting(props) {\r\n\r\n    const [user, SetUser] = useState(null);\r\n    const [image, setImage] = useState(null);\r\n    const [nameValue, setNameValue] = useState(\"\");\r\n    const [imageComplet, setImageComplet] = useState(null);\r\n    const [bio, setBio] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n    const [imageError, setImageError] = useState(null);\r\n    const [nameError, setNameError] = useState(null);\r\n    const [bioError, setBioError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        firebase.firestore()\r\n        .collection(\"users\")\r\n        .doc(firebase.auth().currentUser.uid)\r\n        .get()\r\n        .then((snapshot) => {\r\n            if (snapshot.exists) {\r\n                SetUser(snapshot.data())\r\n            } else {\r\n                console.log(\"Setting user does not exist\")\r\n            }\r\n        })\r\n    }, [props])\r\n\r\n    const ChangeProfile = async () => {\r\n        let result = await ImagePicker.launchImageLibraryAsync({\r\n            mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n            allowsEditing: true,\r\n            aspect: [1, 1],\r\n            quality: 1,\r\n        });\r\n        console.log(result);\r\n      \r\n        if (!result.cancelled) {\r\n            setImage(result.uri);\r\n            const uri = image;\r\n            const childPath = `picture/${firebase.auth().currentUser.uid}/${Math.random().toString(36)}`;\r\n            console.log(childPath)\r\n\r\n            const response = await fetch(uri);\r\n            const blob = await response.blob();\r\n\r\n            const task = firebase\r\n                .storage()\r\n                .ref()\r\n                .child(childPath)\r\n                .put(blob);\r\n\r\n            const taskProgress = snapshot => {\r\n                console.log(`transferred: ${snapshot.bytesTransferred}`)\r\n            }\r\n\r\n            const taskCompleted = () => {\r\n                task.snapshot.ref.getDownloadURL().then((snapshot) => {\r\n                    savePostData(snapshot);\r\n                    setImageComplet(snapshot);\r\n                    console.log(snapshot)\r\n                })\r\n            }\r\n\r\n            const taskError = snapshot => {\r\n                console.log(snapshot)\r\n                setError(snapshot)\r\n                setImageError(true)\r\n            }\r\n\r\n            task.on(\"state_changed\", taskProgress, taskError, taskCompleted);\r\n        }\r\n    }\r\n\r\n    const savePostData = (downloadURL) => {\r\n\r\n        firebase.firestore()\r\n            .collection('users')\r\n            .doc(firebase.auth().currentUser.uid)\r\n            .set({\r\n                name: user.name,\r\n                email: user.email,\r\n                picture: downloadURL,\r\n                bio: user.bio\r\n            })\r\n    }\r\n\r\n    const onLogout = () => {\r\n        firebase.auth().signOut();\r\n    }\r\n\r\n    const Submit = () => {\r\n\r\n        const ErrorName = nameValidator(nameValue);\r\n        const ErrorBio = bioValidator(bio);\r\n\r\n        if(ErrorBio || ErrorName) {\r\n            return\r\n        }\r\n\r\n\r\n        if(nameValue.length != 0 || bio.length != 0) {\r\n            if(nameValue.length < 5 || nameValue.length > 10) {\r\n                setError(\"Your name is too small or big.\")\r\n                setNameError(true)\r\n                iserror = true\r\n            }\r\n\r\n            if(bio.length > 100) {\r\n                setError(\"Your biography is too big.\")\r\n                setBioError(true)\r\n                iserror = true\r\n            }\r\n\r\n            console.log(bioError)\r\n            console.log(nameError)\r\n            console.log(iserror)\r\n\r\n            if((nameValue.length != 0 && bio.length === 0) && !nameError && !bioError) {\r\n                firebase.firestore()\r\n                .collection(\"users\")\r\n                .doc(firebase.auth().currentUser.uid)\r\n                .set({\r\n                    name: nameValue,\r\n                    email: user.email,\r\n                    picture: user.picture,\r\n                    bio: user.bio\r\n                }).then(() => {\r\n                    props.navigation.navigate(\"Profile\", {uid: firebase.auth().currentUser.uid})\r\n                })\r\n            }\r\n\r\n            if((nameValue.length === 0 && bio.length != 0) && !nameError && !bioError) {\r\n                firebase.firestore()\r\n                .collection(\"users\")\r\n                .doc(firebase.auth().currentUser.uid)\r\n                .set({\r\n                    name: user.name,\r\n                    email: user.email,\r\n                    picture: user.picture,\r\n                    bio: bio\r\n                }).then(() => {\r\n                    props.navigation.navigate(\"Profile\", {uid: firebase.auth().currentUser.uid})\r\n                })\r\n            }\r\n\r\n            if((nameValue.length != 0 && bio.length != 0) && !nameError && !bioError) {\r\n                firebase.firestore()\r\n                .collection(\"users\")\r\n                .doc(firebase.auth().currentUser.uid)\r\n                .set({\r\n                    name: nameValue,\r\n                    email: user.email,\r\n                    picture: user.picture,\r\n                    bio: bio\r\n                }).then(() => {\r\n                    props.navigation.navigate(\"Profile\", {uid: firebase.auth().currentUser.uid})\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    if (user === null) {\r\n        return <View />\r\n    }\r\n\r\n    return (\r\n        <View style={styles.header}>\r\n            <TouchableOpacity\r\n                onPress={() => props.navigation.navigate(\"Profile\", {uid: firebase.auth().currentUser.uid})}\r\n            >\r\n                <Image\r\n                    source={require('../../assets/fleche.jpg')}\r\n                    style={{width: 48, height: 48, marginTop: 25}}\r\n                />\r\n            </TouchableOpacity>\r\n            <Text style={styles.headerText}>Profile {user.name}</Text>\r\n            <TouchableOpacity style={styles.logoutButton}>\r\n                <Button\r\n                    title=\"Logout\"\r\n                    onPress={() => onLogout()}\r\n                />\r\n            </TouchableOpacity>\r\n            <View style={styles.container}>\r\n             {user.picture ? (\r\n                    <Image\r\n                        source={{uri: user.picture}}\r\n                        style={{width: 64, height: 64, borderRadius: 10, position: 'absolute', margin: 20}}\r\n                    />) : (\r\n                    <Image\r\n                        source={require('../../assets/friend.png')}\r\n                        style={{width: 64, height: 64, borderRadius: 10, position: 'absolute', margin: 20}}\r\n                    />\r\n                )}\r\n            <Text>{imageComplet}</Text>\r\n            <TouchableOpacity style={styles.button}>\r\n                <Button\r\n                    title=\"Change profile picture\"\r\n                    onPress={() => ChangeProfile()}\r\n                />\r\n            </TouchableOpacity>\r\n            <Text style={{fontSize: 16}}>Name: </Text>\r\n            <TextInput\r\n                placeholder={user.name}\r\n                style={styles.textInput}\r\n                maxLength={15}\r\n                onChangeText={(nametext) => setNameValue(nametext)}\r\n            />\r\n            \r\n            <Text style={styles.text}>Your Email : </Text>\r\n            <Text>{user.email}</Text>\r\n            <Text style={styles.text}>Bio : </Text>\r\n            <TextInput \r\n                style={styles.textInputBio}\r\n                textAlignVertical='top'\r\n                placeholder='Place a bio'\r\n                onChangeText={(biotext) => setBio(biotext)}\r\n            />\r\n\r\n            {(nameError || bioError || imageError) ? (<Text style={styles.error}>{error}</Text>) : null}\r\n\r\n            \r\n            <TouchableOpacity style={{ marginTop: 50}}>\r\n                <Button\r\n                    title='Submit'\r\n                    onPress={() => Submit()}\r\n                />\r\n            </TouchableOpacity>\r\n            </View>\r\n        </View>\r\n    )\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    header: {\r\n        flex: 1,\r\n        margin: 5\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        padding: 25,\r\n        marginTop: 25\r\n    },\r\n    textInput: {\r\n        fontSize: 16,\r\n        borderColor: 'black',\r\n        borderWidth: 1,\r\n        borderRadius: 10,\r\n        width: 150,\r\n        marginTop: 10\r\n    },\r\n    textInputBio: {\r\n        fontSize: 16,\r\n        borderColor: 'black',\r\n        borderWidth: 1,\r\n        borderRadius: 10,\r\n        height: 150,\r\n        marginTop: 10\r\n\r\n    },\r\n    textInputEmail: {\r\n        fontSize: 16,\r\n        borderColor: 'black',\r\n        borderWidth: 1,\r\n        borderRadius: 10,\r\n        width: 250,\r\n        height: 50,\r\n        marginTop: 10,\r\n    },\r\n    button: {\r\n        height: 60, \r\n        alignItems: 'flex-end'\r\n    },\r\n    headerText: {\r\n        fontSize: 20,\r\n        position: 'absolute',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginTop: 35,\r\n        right: '40%', \r\n    },\r\n    text: {\r\n        marginTop: 25,\r\n        fontSize: 16\r\n    },\r\n    error: {\r\n        fontSize: 20,\r\n        color: 'red',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        paddingTop: 20\r\n    },\r\n    logoutButton: {\r\n        width: 120, \r\n        fontSize: 20,\r\n        position: 'absolute',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        marginTop: 35,\r\n        right: 0\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (store) => ({\r\n    users: store.usersState.users\r\n})\r\nconst mapDispatchProps = (dispatch) => bindActionCreators({ fetchUsersData }, dispatch);\r\n\r\nexport default connect(mapStateToProps, mapDispatchProps)(Setting);"]},"metadata":{},"sourceType":"module"}